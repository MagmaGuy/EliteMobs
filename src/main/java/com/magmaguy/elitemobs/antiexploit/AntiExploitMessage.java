package com.magmaguy.elitemobs.antiexploit;

import com.magmaguy.elitemobs.config.AntiExploitConfig;
import net.md_5.bungee.api.ChatMessageType;
import net.md_5.bungee.api.chat.TextComponent;
import org.bukkit.entity.Entity;
import org.bukkit.entity.LivingEntity;
import org.bukkit.entity.Player;


public class AntiExploitMessage {

    public static void sendWarning(LivingEntity livingEntity, String code) {
        for (Entity entity : livingEntity.getNearbyEntities(15, 15, 15))
            if (entity instanceof Player) {
                Player player = (Player) entity;
                if (!player.isOp())
                    player.spigot().sendMessage(ChatMessageType.ACTION_BAR, TextComponent.fromLegacyText(AntiExploitConfig.antiexploitMessage));
                else
                    player.spigot().sendMessage(ChatMessageType.ACTION_BAR, TextComponent.fromLegacyText(AntiExploitConfig.antiexploitMessage + " OP-only:" + code));
            }

    }

}
